"use strict";var selectedGalleryName,nav=document.querySelector(".nav"),burgerBtn=document.querySelector(".burger__btn"),buttonLines=Array.from(document.querySelectorAll(".burger__btn--line")),allNavItems=document.querySelectorAll(".nav__items-item"),shortSections=document.querySelectorAll(".short-section"),longSections=document.querySelectorAll(".long-section"),allMenuLinks=document.querySelectorAll(".nav__items-link"),footerYear=document.querySelector(".footer__year"),headingText=document.querySelector(".header__text"),expandableSlider=document.querySelector(".expandable-slider"),expandableSliderItems=document.querySelectorAll(".expandable-slider__item"),accordionBtns=document.querySelectorAll(".accordion-btn"),navBarLogo=document.querySelector(".navbar__logo"),allGalleryImages=document.querySelectorAll(".gallery__container img"),lightbox=document.querySelector(".lightbox-mini"),closeLightboxBtn=document.querySelector(".lightbox-mini__close-btn"),prevLightboxBtn=document.querySelector(".lightbox-mini__previous-btn"),nextLightboxBtn=document.querySelector(".lightbox-mini__next-btn"),imgSlide=document.querySelector(".lightbox-mini__img"),imgsGalleryNameMap=new Map,body=document.body,index=0,selectImg=function(e){e=e.target.dataset;selectedGalleryName=e.galleryName,index=parseInt(e.gallerySlideNum),showImg(selectedGalleryName,index),showLightbox()},showImg=function(e,t){t=document.querySelector("[data-gallery-name='".concat(e,"'][data-gallery-slide-num='").concat(t,"']")).getAttribute("src");imgSlide.setAttribute("src",t),loadImagesInGalleryToMap(e)},loadImagesInGalleryToMap=function(e){document.querySelectorAll("[data-gallery-name='".concat(e,"']")).forEach(function(e){imgsGalleryNameMap.set(parseInt(e.dataset.gallerySlideNum),e.getAttribute("src"))})},showLightbox=function(){burgerBtn.style.display="none",nav.style.display="none",body.style.overflow="hidden",lightbox.style.display="block"},closeLightbox=function(){768<=window.innerWidth?nav.style.display="flex":burgerBtn.style.display="block",imgsGalleryNameMap.clear(),body.style.overflow="visible",lightbox.style.display="none"},changeSlide=function(e){(index=(index+=e)>imgsGalleryNameMap.size-1?0:index)<0&&(index=imgsGalleryNameMap.size-1),imgSlide.setAttribute("src",imgsGalleryNameMap.get(index))},zoomImg=function(e){var t=e.clientX,e=e.clientY,n=imgSlide.offsetLeft,e=-1*(imgSlide.offsetTop-e);imgSlide.style.transformOrigin="".concat(-1*(n-t),"px ").concat(e,"px"),imgSlide.classList.add("zoom-img")},resetImg=function(){imgSlide.classList.remove("zoom-img"),imgSlide.removeEventListener("mousemove",zoomImg)},shortObserverOptions={threshold:[.5]},longObserverOptions={threshold:[.1]},observerShortSections=new IntersectionObserver(handleObserver,shortObserverOptions),observerLongSections=new IntersectionObserver(handleObserver,longObserverOptions);function handleObserver(e){e.forEach(function(e){var t=e.target,t=document.querySelector("a[href='#".concat(t.id,"']"));e.isIntersecting&&(allMenuLinks.forEach(function(e){return e.classList.remove("active-link")}),t.classList.add("active-link"))})}var handleNav=function(){nav.classList.toggle("nav--active"),body.classList.toggle("sticky-body"),buttonLines.forEach(function(e){e.classList.toggle("active-line")}),allNavItems.forEach(function(e){e.addEventListener("click",function(){nav.classList.remove("nav--active"),body.classList.remove("sticky-body"),deleteAnimation()})}),handleNavItemsAnimation()},handleNavBarLogo=function(){nav.classList.contains("nav--active")&&(nav.classList.remove("nav--active"),body.classList.remove("sticky-body"),deleteAnimation(),resetBurgerBtn())},resetBurgerBtn=function(){buttonLines.forEach(function(e){e.classList.toggle("active-line")})},handleNavItemsAnimation=function(){var t=0;allNavItems.forEach(function(e){e.classList.toggle("nav-items-animation"),e.style.animationDelay="."+t+"s",t++})},deleteAnimation=function(){allNavItems.forEach(function(e){e.classList.remove("nav-items-animation")})},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};function showSlide(){var t=this;expandableSliderItems.forEach(function(e){e.classList.remove("active"),t.classList.add("active")}),handleBgColor(this)}var handleBgColor=function(e){e=e.getAttribute("data-slide");expandableSlider.setAttribute("data-bg",e)};function openAccordionItems(){this.nextElementSibling.classList.contains("active")||closeAccordionItems(),this.nextElementSibling.classList.toggle("active")}var closeAccordionItems=function(){document.querySelectorAll(".gallery__box").forEach(function(e){e.classList.remove("active")})},clickOutsideAccordion=function(e){e.target.classList.contains("accordion-btn")||e.target.classList.contains("gallery__box")||closeAccordionItems()};handleCurrentYear(),burgerBtn.addEventListener("click",handleNav),allMenuLinks.forEach(function(e){e.addEventListener("click",resetBurgerBtn)}),navBarLogo.addEventListener("click",handleNavBarLogo),expandableSliderItems.forEach(function(e){return e.addEventListener("click",showSlide)}),accordionBtns.forEach(function(e){e.addEventListener("click",openAccordionItems)}),shortSections.forEach(function(e){observerShortSections.observe(e)}),longSections.forEach(function(e){observerLongSections.observe(e)}),allGalleryImages.forEach(function(e){e.addEventListener("click",selectImg)}),closeLightboxBtn.addEventListener("click",closeLightbox),prevLightboxBtn.addEventListener("click",function(){changeSlide(-1)}),nextLightboxBtn.addEventListener("click",function(){changeSlide(1)}),imgSlide.addEventListener("click",function(){imgSlide.addEventListener("mousemove",zoomImg)}),imgSlide.addEventListener("mouseout",resetImg),window.addEventListener("click",clickOutsideAccordion);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW5kZXgiLCJuYXYiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidXJnZXJCdG4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uTGluZXMiLCJBcnJheSIsImFsbE5hdkl0ZW1zIiwic2hvcnRTZWN0aW9ucyIsImxvbmdTZWN0aW9ucyIsImFsbE1lbnVMaW5rcyIsImZvb3RlclllYXIiLCJoZWFkaW5nVGV4dCIsImFjY29yZGlvbkJ0bnMiLCJuYXZCYXJMb2dvIiwiYWxsR2FsbGVyeUltYWdlcyIsImxpZ2h0Ym94IiwiY2xvc2VMaWdodGJveEJ0biIsInByZXZMaWdodGJveEJ0biIsIm5leHRMaWdodGJveEJ0biIsImltZ1NsaWRlIiwiaW1nc0dhbGxlcnlOYW1lTWFwIiwiTWFwIiwiYm9keSIsInNlbGVjdGVkR2FsbGVyeU5hbWUiLCJ0YXJnZXQiLCJwYXJzZUludCIsImRhdGFzZXQiLCJnYWxsZXJ5TmFtZSIsInNob3dMaWdodGJveCIsImdhbGxlcnlTbGlkZU51bSIsInNob3dJbWciLCJkaXNwbGF5ZWRJbWdQYXRoIiwiZGlzcGxheWVkSW1nIiwic2V0QXR0cmlidXRlIiwibG9hZEltYWdlc0luR2FsbGVyeVRvTWFwIiwiaW1nTnVtIiwiZ2V0QXR0cmlidXRlIiwiY29uY2F0IiwiZm9yRWFjaCIsImltYWdlIiwic2V0Iiwic3R5bGUiLCJkaXNwbGF5Iiwib3ZlcmZsb3ciLCJjbG9zZUxpZ2h0Ym94Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImNoYW5nZVNsaWRlIiwiY2xlYXIiLCJuIiwic2l6ZSIsInpvb21JbWciLCJvZmZzZXRUb3AiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJnZXQiLCJlIiwicmVzZXRJbWciLCJjbGllbnRYIiwiY2xhc3NMaXN0IiwiaW1nWCIsIm9mZnNldExlZnQiLCJ0aHJlc2hvbGQiLCJ5IiwibG9uZ09ic2VydmVyT3B0aW9ucyIsInNob3J0T2JzZXJ2ZXJPcHRpb25zIiwibmV3WSIsImFkZCIsImhhbmRsZU9ic2VydmVyIiwiZW50cmllcyIsImVudHJ5IiwiYWN0aXZlTmF2Iiwib2JzZXJ2ZXJTaG9ydFNlY3Rpb25zIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwic2VjdGlvbiIsImlkIiwiZGVsZXRlQW5pbWF0aW9uIiwiaXRlbSIsInJlc2V0QnVyZ2VyQnRuIiwibGluZSIsInRvZ2dsZSIsImhhbmRsZU5hdkl0ZW1zQW5pbWF0aW9uIiwiYW5pbWF0aW9uRGVsYXkiLCJkZWxheVRpbWUiLCJzaG93U2xpZGUiLCJoYW5kbGVCZ0NvbG9yIiwiZXhwYW5kYWJsZVNsaWRlciIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJjbG9zZUFjY29yZGlvbkl0ZW1zIiwiZXhwYW5kYWJsZVNsaWRlckl0ZW1zIiwiX3RoaXMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJzbGlkZSIsIm9wZW5BY2NvcmRpb25JdGVtcyIsInRoaXMiLCJjb250YWlucyIsImhhbmRsZUN1cnJlbnRZZWFyIiwibGlua3MiLCJjbGlja091dHNpZGVBY2NvcmRpb24iLCJidG4iLCJzZWxlY3RJbWciLCJoYW5kbGVOYXZCYXJMb2dvIiwib2JzZXJ2ZXJMb25nU2VjdGlvbnMiLCJvYnNlcnZlIiwiaW1nIl0sIm1hcHBpbmdzIjoiYUFBQSxJQXlCSUEsb0JBekJFQyxJQUFNQyxTQUFTQyxjQUFjLFFBQzdCQyxVQUFZRixTQUFTQyxjQUFjLGdCQURuQ0YsWUFBZUUsTUFBQUEsS0FBQUEsU0FBckJFLGlCQUFBLHVCQUNNRCxZQUFZRixTQUFTQyxpQkFBYyxvQkFDbkNHLGNBQWNDLFNBQVdMLGlCQUFTRyxrQkFDbENHLGFBQWNOLFNBQVNHLGlCQUFpQixpQkFDeENJLGFBQWdCUCxTQUFTRyxpQkFBaUIsb0JBQzFDSyxXQUFlUixTQUFTRyxjQUFBQSxpQkFDeEJNLFlBQWVULFNBQVNHLGNBQUFBLGlCQUN4Qk8saUJBQXFCVixTQUFDQyxjQUFjLHNCQUNwQ1Usc0JBQXVCVixTQUFBQSxpQkFDN0IsNEJBSU1XLGNBQWdCWixTQUFTRyxpQkFBaUIsa0JBQzFDVSxXQUFhYixTQUFTQyxjQUFjLGlCQUNwQ2EsaUJBQW1CZCxTQUFTRyxpQkFBaUIsMkJBQzdDWSxTQUFXZixTQUFTQyxjQUFjLGtCQUNsQ2UsaUJBQW1CaEIsU0FBU0MsY0FBYyw2QkFDMUNnQixnQkFBa0JqQixTQUFTQyxjQUFjLGdDQUN6Q2lCLGdCQUFrQmxCLFNBQVNDLGNBQWMsNEJBQ3pDa0IsU0FBV25CLFNBQVNDLGNBQWMsdUJBQ2xDbUIsbUJBQXFCLElBQUlDLElBQ3pCQyxLQUFPdEIsU0FBU3NCLEtBR2xCeEIsTUFBUSxFQUtYeUIsVUFBQUEsU0FBQUEsR0FDS0MsRUFBR0MsRUFBUUQsT0FBT0UsUUFEdkJILG9CQUVRQSxFQUFESSxZQURQN0IsTUFFQThCLFNBQVlKLEVBQUFLLGlCQUxiQyxRQUFBUCxvQkFBQXpCLE9BS0M4QixnQkFPTUcsUUFBQUEsU0FBQUEsRUFBbUJDLEdBQW5CRCxFQUNHRSxTQUFvQkYsY0FBcEJFLHVCQUFBQSxPQUNUQyxFQURTRCwrQkFBQUEsT0FDVEUsRUFEU0YsT0FENkJHLGFBQWEsT0FLcERqQixTQUFNZSxhQUFBQSxNQUF3QkgsR0FIN0JHLHlCQUl3QlAsSUFJeEJPLHlCQUFBLFNBQUFQLEdBTEQzQixTQUFBRyxpQkFBQSx1QkFBQWtDLE9BRXlCVixFQUZ6QixPQWVDVyxRQUFBLFNBQUFDLEdBQ0FqQixtQkFBQWtCLElBQ0F6QixTQUFTMEIsRUFBTUMsUUFBZmIsaUJBSkRVLEVBQUFILGFBQUEsV0FRQ1IsYUFFTyxXQVRQMUIsVUFVQ0EsTUFBVXVDLFFBQVYsT0FURDFDLElBVUMwQyxNQUFBQyxRQUFBLE9BVERwQixLQUFLbUIsTUFBTUUsU0FBVyxTQUN0QjVCLFNBVUFLLE1BQUFBLFFBQUEsU0FQRHdCLGNBQUEsV0FDMEIsS0FBckJDLE9BQU9DLFdBV1ovQyxJQUFNZ0QsTUFBQUEsUUFBYyxPQVJsQjdDLFVBQVV1QyxNQUFNQyxRQUFVLFFBRzNCdEIsbUJBVUM0QixRQVREMUIsS0FBS21CLE1BQU1FLFNBQVcsVUFDdEI1QixTQVVJakIsTUFBSjRDLFFBQWUsUUFQVkssWUFBYyxTQUFDRSxJQWNyQm5ELE9BYkNBLE9BVVFtRCxHQVJJN0IsbUJBQW1COEIsS0FBTyxFQVdqQ0MsRUFJTHJELE9BQWFxQixJQUNickIsTUFBVXNCLG1CQUFZZ0MsS0FBdEIsR0FSQWpDLFNBYVFjLGFBQU9vQixNQUFBQSxtQkFBZkMsSUFBQXhELFNBVktxRCxRQUFVLFNBQUNJLEdBZWpCLElBQU1DLEVBQUFBLEVBQVFDLFFBQ2J0QyxFQUFTdUMsRUFBQUEsUUFJVkMsRUFBQXhDLFNBQUF5QyxXQUVDQyxHQUFXLEdBakJFMUMsU0FBU2lDLFVBaUJYVSxHQUVaM0MsU0FBTTRDLE1BQUFBLGdCQUFOLEdBQUExQixRQUg2QixHQUF2QjJCLEVBQUFBLEdBR04sT0FBQTNCLE9BQTRCNEIsRUFBNUIsTUFBQTlDLFNBQUF1QyxVQUFBUSxJQUFBLGFBVE1WLFNBQVcsV0FzQmpCckMsU0FBU2dELFVBQUFBLE9BQWVDLFlBcEJ2QmpELFNBcUJRbUIsb0JBQVMrQixZQUFVbEIsVUFHMUJhLHFCQUFBLENBbkJESCxVQW9CRXBELENBQUFBLEtBQXFCc0Qsb0JBQXJCLENBakJGRixVQWtCRVMsQ0FBQUEsS0FLSEMsc0JBQUEsSUFBQUMscUJBbkJDTCxlQUNBSCxzQkFvQklOLHFCQUFpQixJQUFBYyxxQkFqQnJCTCxlQUNBSixxQkFHRCxTQWtCQ3pELGVBQW9COEQsR0FqQnBCQSxFQWtCTUssUUFBQUEsU0FBQUEsR0FqQkwsSUFrQkMxRSxFQUFJMkQsRUFBVWdCLE9BQ2RwRCxFQUFBdEIsU0FBc0JDLGNBQXRCLFlBQUFvQyxPQUFBc0MsRUFBQUMsR0FBQSxPQUNBQyxFQUFBQSxpQkFqQkFwRSxhQWNENkIsUUFBQSxTQUFBd0MsR0FBQSxPQUFBQSxFQUFBcEIsVUFBQWdCLE9BQUEsaUJBRERKLEVBQUFaLFVBQUFRLElBQUEsa0JBTkQsSUFrQkVuRSxVQUFjMkUsV0FqQmYzRSxJQWtCQ3VCLFVBQUtvQyxPQUFVZ0IsZUFqQmhCcEQsS0FrQkN1RCxVQUFBQSxPQUFlLGVBakJoQnpFLFlBa0JDMkUsUUFBYyxTQUFBQyxHQUNkQSxFQUFBdEIsVUFBQXVCLE9BQUEsaUJBaEJEM0UsWUFBWWdDLFFBQVEsU0FBQ3dDLEdBbUJ0QkEsRUFBTUMsaUJBQWlCLFFBQWpCQSxXQUNMM0UsSUFBQUEsVUFBWWtDLE9BQVEsZUFqQmxCaEIsS0FrQkdvQyxVQUFKZ0IsT0FBQSxlQURERyxzQkFLREssMkJBSUVKLGlCQUFBLFdBQ0FBLElBQUtyQyxVQUFNMEMsU0FBQUEsaUJBbEJYcEYsSUFtQkFxRixVQUFTVixPQUFBLGVBQ1RwRCxLQUpEb0MsVUFBQWdCLE9BQUEsZUFIREcsa0JBVkVFLG1CQXFCREEsZUFBQSxXQUREM0UsWUFNQWtDLFFBQUEsU0FBQTBDLEdBcEJFQSxFQUFLdEIsVUFBVXVCLE9BQU8sa0JBdUJ2QnZFLHdCQUFBLFdBRkQsSUFLQTBFLEVBQUEsRUFuQkM5RSxZQUFZZ0MsUUFBUSxTQUFDd0MsR0FvQnRCQSxFQUFBcEIsVUFBUzJCLE9BQVksdUJBQUFQLEVBQUFyQyxNQUFBMEMsZUFBQSxJQUFBQyxFQUFBLElBakJuQkEsT0FvQkFQLGdCQUFtQixXQWZwQnZFLFlBYUFnQyxRQUFBLFNBQUF3QyxHQUtBUSxFQUFBQSxVQUFjWixPQUFkLDBCQUtBYSxrQkFBaUJ0RCxXQUZsQixJQUtBdUQsR0FBQSxJQUFBQyxNQUFBQyxjQWxCQ2hGLFdBQVdpRixVQUFZSCxHQUl4QixTQWlCRUksWUFBQUEsSUFBQUEsRUFBQUEsS0FoQkRDLHNCQWlCQ3ZELFFBQUEsU0FBQXdDLEdBaEJBQSxFQUFLcEIsVUFBVWdCLE9BQU8sVUFpQnZCb0IsRUFBS0MsVUFBQUEsSUFBQUEsWUFHTlQsY0FBTU0sTUFiTixJQWdCRWQsY0FBZUosU0FBQUEsR0FEaEJzQixFQUFBbEIsRUFBQTFDLGFBQUEsY0FGRG1ELGlCQUFBdEQsYUFBQSxVQUFBK0QsSUFQQSxTQW1CRUMscUJBQ0FDLEtBQUFILG1CQUFBckMsVUFBQXlDLFNBQUEsV0FsQkFQLHNCQVlGTSxLQVVBSCxtQkFBQXJDLFVBQUF1QixPQUFBLFVBQ0FtQixJQUFBQSxvQkFBaUIsV0FDUDNCLFNBQWlCdEUsaUJBQTNCLGlCQUNhbUMsUUFBUSxTQUFBd0MsR0FDcEJ1QixFQUFLM0MsVUFBQ2UsT0FBTixhQUc2QjZCLHNCQUM3QixTQUFzQi9DLEdBRXZCM0MsRUFBQUEsT0FBQUEsVUFBQXVGLFNBQXNCLGtCQUNyQkksRUFBQUEsT0FBSTlCLFVBQUFBLFNBQUosaUJBRURtQix1QkFNQTlFLG9CQWpCQVosVUFrQkt1RSxpQkFBaUIsUUFBUytCLFdBQzlCL0YsYUFGRDZCLFFBQUEsU0FBQStELEdBR0FyRixFQUFBQSxpQkFBaUJ5RCxRQUFqQk0sa0JBaEJBbEUsV0FrQkNrQyxpQkFBQSxRQUFBMEQsa0JBQ0FaLHNCQUZEdkQsUUFBQSxTQUFBd0MsR0FBQSxPQUdBNUQsRUFBQUEsaUJBQWdCdUQsUUFBaEJZLGFBRUN6RSxjQUZEMEIsUUFBQSxTQUFBaUUsR0FHQXBGLEVBQUFBLGlCQUFTc0QsUUFBaUJ3QixzQkFFekIxRixjQUZEK0IsUUFBQSxTQUFBcUMsR0FHQXhELHNCQUFTc0QsUUFBaUJFLEtBaEIxQm5FLGFBQWE4QixRQUFRLFNBQUNxQyxHQUNyQitCLHFCQUFxQkMsUUFBUWhDLEtBRTlCN0QsaUJBQWlCd0IsUUFBUSxTQUFDc0UsR0FDekJBLEVBQUluQyxpQkFBaUIsUUFBUytCLGFBRS9CeEYsaUJBQWlCeUQsaUJBQWlCLFFBQVM3QixlQUMzQzNCLGdCQUFnQndELGlCQUFpQixRQUFTLFdBQ3pDMUIsYUFBYSxLQUVkN0IsZ0JBQWdCdUQsaUJBQWlCLFFBQVMsV0FDekMxQixZQUFZLEtBRWI1QixTQUFTc0QsaUJBQWlCLFFBQVMsV0FDbEN0RCxTQUFTc0QsaUJBQWlCLFlBQWF0QixXQUV4Q2hDLFNBQVNzRCxpQkFBaUIsV0FBWWpCLFVBQ3RDWCxPQUFPNEIsaUJBQWlCLFFBQVM2QiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKTtcclxuY29uc3QgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlcl9fYnRuJyk7XHJcbmNvbnN0IGJ1dHRvbkxpbmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnVyZ2VyX19idG4tLWxpbmUnKSk7XHJcbmNvbnN0IGFsbE5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9faXRlbXMtaXRlbScpO1xyXG5jb25zdCBzaG9ydFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNob3J0LXNlY3Rpb24nKTtcclxuY29uc3QgbG9uZ1NlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvbmctc2VjdGlvbicpO1xyXG5jb25zdCBhbGxNZW51TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtcy1saW5rJyk7XHJcbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX195ZWFyJyk7XHJcbmNvbnN0IGhlYWRpbmdUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fdGV4dCcpO1xyXG5jb25zdCBleHBhbmRhYmxlU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV4cGFuZGFibGUtc2xpZGVyJyk7XHJcbmNvbnN0IGV4cGFuZGFibGVTbGlkZXJJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0Jy5leHBhbmRhYmxlLXNsaWRlcl9faXRlbSdcclxuKTtcclxuY29uc3QgYWNjb3JkaW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb24tYnRuJyk7XHJcbmNvbnN0IG5hdkJhckxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyX19sb2dvJyk7XHJcbmNvbnN0IGFsbEdhbGxlcnlJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeV9fY29udGFpbmVyIGltZycpO1xyXG5jb25zdCBsaWdodGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saWdodGJveC1taW5pJyk7XHJcbmNvbnN0IGNsb3NlTGlnaHRib3hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlnaHRib3gtbWluaV9fY2xvc2UtYnRuJyk7XHJcbmNvbnN0IHByZXZMaWdodGJveEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saWdodGJveC1taW5pX19wcmV2aW91cy1idG4nKTtcclxuY29uc3QgbmV4dExpZ2h0Ym94QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94LW1pbmlfX25leHQtYnRuJyk7XHJcbmNvbnN0IGltZ1NsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94LW1pbmlfX2ltZycpO1xyXG5jb25zdCBpbWdzR2FsbGVyeU5hbWVNYXAgPSBuZXcgTWFwKCk7XHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG5cclxubGV0IHNlbGVjdGVkR2FsbGVyeU5hbWU7XHJcbmxldCBpbmRleCA9IDA7XHJcblxyXG4vL2hhbmRsZSBnYWxsZXJ5XHJcbmNvbnN0IHNlbGVjdEltZyA9IChlKSA9PiB7XHJcblx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQuZGF0YXNldDtcclxuXHRzZWxlY3RlZEdhbGxlcnlOYW1lID0gdGFyZ2V0LmdhbGxlcnlOYW1lO1xyXG5cdGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdhbGxlcnlTbGlkZU51bSk7XHJcblx0c2hvd0ltZyhzZWxlY3RlZEdhbGxlcnlOYW1lLCBpbmRleCk7XHJcblx0c2hvd0xpZ2h0Ym94KCk7XHJcbn07XHJcblxyXG5jb25zdCBzaG93SW1nID0gKGdhbGxlcnlOYW1lLCBpbWdOdW0pID0+IHtcclxuXHRjb25zdCBkaXNwbGF5ZWRJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0YFtkYXRhLWdhbGxlcnktbmFtZT0nJHtnYWxsZXJ5TmFtZX0nXVtkYXRhLWdhbGxlcnktc2xpZGUtbnVtPScke2ltZ051bX0nXWBcclxuXHQpO1xyXG5cdGNvbnN0IGRpc3BsYXllZEltZ1BhdGggPSBkaXNwbGF5ZWRJbWcuZ2V0QXR0cmlidXRlKCdzcmMnKTtcclxuXHRpbWdTbGlkZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGRpc3BsYXllZEltZ1BhdGgpO1xyXG5cdGxvYWRJbWFnZXNJbkdhbGxlcnlUb01hcChnYWxsZXJ5TmFtZSk7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkSW1hZ2VzSW5HYWxsZXJ5VG9NYXAgPSAoZ2FsbGVyeU5hbWUpID0+IHtcclxuXHRjb25zdCBhbGxJbWFnZXNJbkdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0YFtkYXRhLWdhbGxlcnktbmFtZT0nJHtnYWxsZXJ5TmFtZX0nXWBcclxuXHQpO1xyXG5cclxuXHRhbGxJbWFnZXNJbkdhbGxlcnkuZm9yRWFjaCgoaW1hZ2UpID0+IHtcclxuXHRcdGltZ3NHYWxsZXJ5TmFtZU1hcC5zZXQoXHJcblx0XHRcdHBhcnNlSW50KGltYWdlLmRhdGFzZXQuZ2FsbGVyeVNsaWRlTnVtKSxcclxuXHRcdFx0aW1hZ2UuZ2V0QXR0cmlidXRlKCdzcmMnKVxyXG5cdFx0KTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHNob3dMaWdodGJveCA9ICgpID0+IHtcclxuXHRidXJnZXJCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRuYXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblx0bGlnaHRib3guc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZUxpZ2h0Ym94ID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSA3NjgpIHtcclxuXHRcdG5hdi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRidXJnZXJCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0fVxyXG5cclxuXHRpbWdzR2FsbGVyeU5hbWVNYXAuY2xlYXIoKTtcclxuXHRib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xyXG5cdGxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn07XHJcblxyXG5jb25zdCBjaGFuZ2VTbGlkZSA9IChuKSA9PiB7XHJcblx0aW5kZXggKz0gbjtcclxuXHJcblx0aWYgKGluZGV4ID4gaW1nc0dhbGxlcnlOYW1lTWFwLnNpemUgLSAxKSB7XHJcblx0XHRpbmRleCA9IDA7XHJcblx0fVxyXG5cclxuXHRpZiAoaW5kZXggPCAwKSB7XHJcblx0XHRpbmRleCA9IGltZ3NHYWxsZXJ5TmFtZU1hcC5zaXplIC0gMTtcclxuXHR9XHJcblxyXG5cdGltZ1NsaWRlLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1nc0dhbGxlcnlOYW1lTWFwLmdldChpbmRleCkpO1xyXG59O1xyXG5cclxuY29uc3Qgem9vbUltZyA9IChlKSA9PiB7XHJcblx0Y29uc3QgeCA9IGUuY2xpZW50WDtcclxuXHRjb25zdCB5ID0gZS5jbGllbnRZO1xyXG5cclxuXHRjb25zdCBpbWdYID0gaW1nU2xpZGUub2Zmc2V0TGVmdDtcclxuXHRjb25zdCBpbWdZID0gaW1nU2xpZGUub2Zmc2V0VG9wO1xyXG5cclxuXHRjb25zdCBuZXdYID0gKGltZ1ggLSB4KSAqIC0xO1xyXG5cdGNvbnN0IG5ld1kgPSAoaW1nWSAtIHkpICogLTE7XHJcblxyXG5cdGltZ1NsaWRlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAke25ld1h9cHggJHtuZXdZfXB4YDtcclxuXHJcblx0aW1nU2xpZGUuY2xhc3NMaXN0LmFkZCgnem9vbS1pbWcnKTtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0SW1nID0gKCkgPT4ge1xyXG5cdGltZ1NsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3pvb20taW1nJyk7XHJcblx0aW1nU2xpZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgem9vbUltZyk7XHJcbn07XHJcblxyXG4vL2ludGVyc2VjdGlvbiBvYnNlcnZlclxyXG5jb25zdCBzaG9ydE9ic2VydmVyT3B0aW9ucyA9IHtcclxuXHR0aHJlc2hvbGQ6IFswLjVdLFxyXG59O1xyXG5jb25zdCBsb25nT2JzZXJ2ZXJPcHRpb25zID0ge1xyXG5cdHRocmVzaG9sZDogWzAuMV0sXHJcbn07XHJcblxyXG5jb25zdCBvYnNlcnZlclNob3J0U2VjdGlvbnMgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXHJcblx0aGFuZGxlT2JzZXJ2ZXIsXHJcblx0c2hvcnRPYnNlcnZlck9wdGlvbnNcclxuKTtcclxuY29uc3Qgb2JzZXJ2ZXJMb25nU2VjdGlvbnMgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXHJcblx0aGFuZGxlT2JzZXJ2ZXIsXHJcblx0bG9uZ09ic2VydmVyT3B0aW9uc1xyXG4pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlT2JzZXJ2ZXIoZW50cmllcykge1xyXG5cdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuXHRcdGNvbnN0IHNlY3Rpb24gPSBlbnRyeS50YXJnZXQ7XHJcblx0XHRjb25zdCBhY3RpdmVOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW2hyZWY9JyMke3NlY3Rpb24uaWR9J11gKTtcclxuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG5cdFx0XHRhbGxNZW51TGlua3MuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtbGluaycpKTtcclxuXHRcdFx0YWN0aXZlTmF2LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1saW5rJyk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbi8vbmF2aWdhdGlvbiBoYW5kbGVcclxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG5cdG5hdi5jbGFzc0xpc3QudG9nZ2xlKCduYXYtLWFjdGl2ZScpO1xyXG5cdGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnc3RpY2t5LWJvZHknKTtcclxuXHRidXR0b25MaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XHJcblx0XHRsaW5lLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1saW5lJyk7XHJcblx0fSk7XHJcblx0YWxsTmF2SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tYWN0aXZlJyk7XHJcblx0XHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2t5LWJvZHknKTtcclxuXHRcdFx0ZGVsZXRlQW5pbWF0aW9uKCk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHRoYW5kbGVOYXZJdGVtc0FuaW1hdGlvbigpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTmF2QmFyTG9nbyA9ICgpID0+IHtcclxuXHRpZiAobmF2LmNsYXNzTGlzdC5jb250YWlucygnbmF2LS1hY3RpdmUnKSkge1xyXG5cdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi0tYWN0aXZlJyk7XHJcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0aWNreS1ib2R5Jyk7XHJcblx0XHRkZWxldGVBbmltYXRpb24oKTtcclxuXHRcdHJlc2V0QnVyZ2VyQnRuKCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRCdXJnZXJCdG4gPSAoKSA9PiB7XHJcblx0YnV0dG9uTGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xyXG5cdFx0bGluZS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtbGluZScpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTmF2SXRlbXNBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0bGV0IGRlbGF5VGltZSA9IDA7XHJcblxyXG5cdGFsbE5hdkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LWl0ZW1zLWFuaW1hdGlvbicpO1xyXG5cdFx0aXRlbS5zdHlsZS5hbmltYXRpb25EZWxheSA9ICcuJyArIGRlbGF5VGltZSArICdzJztcclxuXHRcdGRlbGF5VGltZSsrO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlQW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGFsbE5hdkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWl0ZW1zLWFuaW1hdGlvbicpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuLy9mb290ZXIgeWVhclxyXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cdGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhcjtcclxufTtcclxuXHJcbi8vZXhwYW5kYWJsZSBzbGlkZXIgaGFuZGxlXHJcbmZ1bmN0aW9uIHNob3dTbGlkZSgpIHtcclxuXHRleHBhbmRhYmxlU2xpZGVySXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0fSk7XHJcblxyXG5cdGhhbmRsZUJnQ29sb3IodGhpcyk7XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUJnQ29sb3IgPSAoaXRlbSkgPT4ge1xyXG5cdGNvbnN0IHNsaWRlID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGUnKTtcclxuXHRleHBhbmRhYmxlU2xpZGVyLnNldEF0dHJpYnV0ZSgnZGF0YS1iZycsIHNsaWRlKTtcclxufTtcclxuXHJcbi8vYWNjb3JkaW9uIGhhbmRsZVxyXG5mdW5jdGlvbiBvcGVuQWNjb3JkaW9uSXRlbXMoKSB7XHJcblx0aWYgKCF0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRjbG9zZUFjY29yZGlvbkl0ZW1zKCk7XHJcblx0fVxyXG5cdHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG59XHJcblxyXG5jb25zdCBjbG9zZUFjY29yZGlvbkl0ZW1zID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFsbEFjdGl2ZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfX2JveCcpO1xyXG5cdGFsbEFjdGl2ZUl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjbGlja091dHNpZGVBY2NvcmRpb24gPSAoZSkgPT4ge1xyXG5cdGlmIChcclxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uLWJ0bicpIHx8XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2dhbGxlcnlfX2JveCcpXHJcblx0KSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cdGNsb3NlQWNjb3JkaW9uSXRlbXMoKTtcclxufTtcclxuXHJcbi8vY2FsbGJhY2ssIGxpc3RlbmVyc1xyXG5oYW5kbGVDdXJyZW50WWVhcigpO1xyXG5idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpO1xyXG5hbGxNZW51TGlua3MuZm9yRWFjaCgobGlua3MpID0+IHtcclxuXHRsaW5rcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc2V0QnVyZ2VyQnRuKTtcclxufSk7XHJcbm5hdkJhckxvZ28uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXZCYXJMb2dvKTtcclxuZXhwYW5kYWJsZVNsaWRlckl0ZW1zLmZvckVhY2goKGl0ZW0pID0+XHJcblx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dTbGlkZSlcclxuKTtcclxuYWNjb3JkaW9uQnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWNjb3JkaW9uSXRlbXMpO1xyXG59KTtcclxuc2hvcnRTZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XHJcblx0b2JzZXJ2ZXJTaG9ydFNlY3Rpb25zLm9ic2VydmUoc2VjdGlvbik7XHJcbn0pO1xyXG5sb25nU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG5cdG9ic2VydmVyTG9uZ1NlY3Rpb25zLm9ic2VydmUoc2VjdGlvbik7XHJcbn0pO1xyXG5hbGxHYWxsZXJ5SW1hZ2VzLmZvckVhY2goKGltZykgPT4ge1xyXG5cdGltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEltZyk7XHJcbn0pO1xyXG5jbG9zZUxpZ2h0Ym94QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VMaWdodGJveCk7XHJcbnByZXZMaWdodGJveEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRjaGFuZ2VTbGlkZSgtMSk7XHJcbn0pO1xyXG5uZXh0TGlnaHRib3hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0Y2hhbmdlU2xpZGUoMSk7XHJcbn0pO1xyXG5pbWdTbGlkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRpbWdTbGlkZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB6b29tSW1nKTtcclxufSk7XHJcbmltZ1NsaWRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgcmVzZXRJbWcpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja091dHNpZGVBY2NvcmRpb24pO1xyXG4iXX0=
